How to use venv
==============

[official documentation](https://docs.python.org/3/library/venv.html)

We also need ```virtualenv``` and his extension ```virtualenvwrapper```

I work with [this link](https://makina-corpus.com/blog/metier/2015/bien-configurer-son-environnement-de-developpement-python), a very good tutorial to use virtualenv. It's not full compatible with windows and Bash for windows, that's why i written a full compatible tuto!

--------------------------

##1 Create a new Env

With **GitBash shell**, i can make a new environnment by using:
```python -m venv pathname```
Launch the gitbash to the the target repertory _(programmation/python/venv/)_


###1.1 Create with specific python's version

- create the new env with **virtualenv** package.
- next use the *-p* argument with the needed path to exec python.
``` virtualenv project-py2 -p /c/Python27/python.exe```

###1.2 Create with herited packages

- use the *--system-site-packages* argument.
```virtualenv --system-site-packages ~/virtualenvs/project2```

---
##2 Activate an Env

The command is simple:
```. venvpath/Scripts/activate```

---
##3 Desactivate the current Env
Just put:
```deactivate```

---
##4 List and install packages

> list all packages

```
pip freeze
Django==1.8.5
gunicorn==19.4.1
```
> save the content

```pip freeze > requirements.txt```
>install all package from requirements.txt

```pip install -r requirements.txt```

---
#Virtualenvwrapper for windows with bash

Hourra! I did it...
**AND NO NEED VIRTUALENVWRAPPER-WIN DUDE!**
Create ```.bash_profile``` in your user root.
then put this code inside:

```
# generated by Git for Windows
test -f ~/.profile && . ~/.profile
test -f ~/.bashrc && . ~/.bashrc


# - dossier contenant les environnements virtuels
export WORKON_HOME=~/.virtualenvs
mkdir -p $WORKON_HOME
# - dossier contenant les projets associ√©s
export PROJECT_HOME=~/pyprojects
mkdir -p $PROJECT_HOME
# - s'assurer que virtualenvwrapper est toujours disponible
 source  ~/AppData/Local/Programs/Python/Python36-32/Scripts/virtualenvwrapper.sh
```

yeah the ```virtualenvwrapper.sh``` is in the Scripts directory from your python's path folder.

##1.1 Actually there is a problem

I cannot easily link a virtualenv to a project because the *setvirtualenvproject* command double the *C:\* root in the specified pyproject path.*

But there is a **good trick**; specify the path manually without the first */c/*:
 ```setvirtualenvproject ~/.virtualenvs/project3 /users/mbrio/pyprojects/project3```